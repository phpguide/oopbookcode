if ($_POST[â€¦]) {
    $avatar = new ImageDownloader();
    $avatar->setUrl('phpguide.co.i/logo.png');
} else {
    $avatar = new ImagePainter();
    $avatar->setSize(150, 150);
}

// ...

if ($avatar instanceof ImageDownloader)
    $avatar->download();
else
    $avatar->draw();

// ...

if ($avatar instanceof ImageDownloader)
    $src = $avatar->getLocalDownloadedPath();
else
    $src = $avatar->savePictureToDisk();